+function(t){"use strict";function e(){var t=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var r in e)if(void 0!==t.style[r])return{end:e[r]};return!1}t.fn.emulateTransitionEnd=function(e){var r=!1,o=this;t(this).one("bsTransitionEnd",function(){r=!0});var n=function(){r||t(o).trigger(t.support.transition.end)};return setTimeout(n,e),this},t(function(){t.support.transition=e(),t.support.transition&&(t.event.special.bsTransitionEnd={bindType:t.support.transition.end,delegateType:t.support.transition.end,handle:function(e){return t(e.target).is(this)?e.handleObj.handler.apply(this,arguments):void 0}})})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var o=t(this),n=o.data("bs.collapse"),i=t.extend({},r.DEFAULTS,o.data(),"object"==typeof e&&e);!n&&i.toggle&&"show"==e&&(e=!e),n||o.data("bs.collapse",n=new r(this,i)),"string"==typeof e&&n[e]()})}var r=function(e,o){this.$element=t(e),this.options=t.extend({},r.DEFAULTS,o),this.transitioning=null,this.options.parent&&(this.$parent=t(this.options.parent)),this.options.toggle&&this.toggle()};r.VERSION="3.2.0",r.DEFAULTS={toggle:!0},r.prototype.dimension=function(){var t=this.$element.hasClass("width");return t?"width":"height"},r.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var r=t.Event("show.bs.collapse");if(this.$element.trigger(r),!r.isDefaultPrevented()){var o=this.$parent&&this.$parent.find("> .panel > .in");if(o&&o.length){var n=o.data("bs.collapse");if(n&&n.transitioning)return;e.call(o,"hide"),n||o.data("bs.collapse",null)}var i=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[i](0),this.transitioning=1;var a=function(){this.$element.removeClass("collapsing").addClass("collapse in")[i](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!t.support.transition)return a.call(this);var s=t.camelCase(["scroll",i].join("-"));this.$element.one("bsTransitionEnd",t.proxy(a,this)).emulateTransitionEnd(350)[i](this.$element[0][s])}}},r.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var e=t.Event("hide.bs.collapse");if(this.$element.trigger(e),!e.isDefaultPrevented()){var r=this.dimension();this.$element[r](this.$element[r]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse").removeClass("in"),this.transitioning=1;var o=function(){this.transitioning=0,this.$element.trigger("hidden.bs.collapse").removeClass("collapsing").addClass("collapse")};return t.support.transition?(this.$element[r](0).one("bsTransitionEnd",t.proxy(o,this)).emulateTransitionEnd(350),void 0):o.call(this)}}},r.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()};var o=t.fn.collapse;t.fn.collapse=e,t.fn.collapse.Constructor=r,t.fn.collapse.noConflict=function(){return t.fn.collapse=o,this},t(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(r){var o,n=t(this),i=n.attr("data-target")||r.preventDefault()||(o=n.attr("href"))&&o.replace(/.*(?=#[^\s]+$)/,""),a=t(i),s=a.data("bs.collapse"),u=s?"toggle":n.data(),c=n.attr("data-parent"),p=c&&t(c);s&&s.transitioning||(p&&p.find('[data-toggle="collapse"][data-parent="'+c+'"]').not(n).addClass("collapsed"),n[a.hasClass("in")?"addClass":"removeClass"]("collapsed")),e.call(a,u)})}(jQuery),function(){this.SingleWork={preview_controller:null,register_preview_view:function(t,e){return this.preview_controller.register_view(t,e)},show_preview:function(t){return this.preview_controller.show(t)},expand_preview:function(){return this.preview_controller.expand()},unexpand_preview:function(){return this.preview_controller.unexpand()}}}.call(this),function(){var t,e={}.hasOwnProperty,r=function(t,r){function o(){this.constructor=t}for(var n in r)e.call(r,n)&&(t[n]=r[n]);return o.prototype=r.prototype,t.prototype=new o,t.__super__=r.prototype,t};SingleWork.AttachmentPreviewController=function(e){function o(){return t=o.__super__.constructor.apply(this,arguments)}return r(o,e),o.prototype.el=".viewable-attachments-select-container",o.prototype.events={"click .preview-attachment-button[data-preview-attachment-id]":"previewLinkClicked"},o.prototype.initialize=function(t){var e;return t.attachment&&(this.attachment=t.attachment,this.updateUI()),t.multiple_viewable_attachments?(e=this,new HoverPopover({el:".viewable-attachments-button",show_delay:200,hide_delay:300,html:!0,content:this.getPopoverContent,on_shown:function(){return e.$popover_el=this.$el}})):void 0},o.prototype.previewLinkClicked=function(t){var e;return e=$(t.currentTarget).data("preview-attachment-id"),this.attachment.id!==e?(this.attachment.id=e,this.attachment.index=$(t.currentTarget).data("preview-attachment-index"),this.updateUI()):void 0},o.prototype.updateUI=function(){return SingleWork.show_preview(this.attachment.id),this.$(".preview-attachment-button[data-preview-attachment-id] .active-attachment-preview").removeClass("active-preview"),$(".work-download-button-container[data-preview-attachment-id]").addClass("hidden"),this.$(".preview-attachment-button[data-preview-attachment-id='"+this.attachment.id+"'] .active-attachment-preview").addClass("active-preview"),$(".work-download-button-container[data-preview-attachment-id='"+this.attachment.id+"']").removeClass("hidden"),this.attachment.title=$(".viewable-attachments-popover-content [data-preview-attachment-id='"+this.attachment.id+"'].preview-attachment-title").first().text(),this.$(".viewable-attachments-preview-index").text(this.attachment.index+1),this.$(".viewable-attachments-preview-title").text(this.attachment.title)},o.prototype.getPopoverContent=function(){return $(".viewable-attachments-popover-content").html()},o}(Backbone.View)}.call(this),function(){SingleWork.CoauthorTagApi=function(){function t(){}return t.accept=function(t,e){return this._setAccepted(t,e,!0)},t.ignore=function(t,e){return this._setAccepted(t,e,!1)},t.reset=function(t,e){return this._setAccepted(t,e,null)},t._setAccepted=function(t,e,r){return $.ajax({type:"PUT",dataType:"json",contentType:"application/json",url:$r.api_v0_work_co_author_tag_path({subdomain_param:"api",id:t,work_id:e}),data:JSON.stringify({accepted:r,coauthor_invite:this._tokenFromUrl()})})},t._tokenFromUrl=function(){var t,e,r,o;return o=$a.decompose_url(window.location.href),r=o[0],t=o[1],e=_.find(t,function(t){return"coauthor_invite"===t[0]}),null!=e?e[1]:void 0},t}()}.call(this),function(){var t,e={}.hasOwnProperty,r=function(t,r){function o(){this.constructor=t}for(var n in r)e.call(r,n)&&(t[n]=r[n]);return o.prototype=r.prototype,t.prototype=new o,t.__super__=r.prototype,t};SingleWork.CoauthorTagIgnoreModal=function(e){function o(){return t=o.__super__.constructor.apply(this,arguments)}return r(o,e),o.prototype.events={"click #coauthor-tag-undo-ignore":"undoIgnore"},o.prototype.show=function(){return this.$el.modal("show"),this},o.prototype.render=function(){return this.$el.modal({show:!1}),this},o.prototype.undoIgnore=function(){return this.$el.modal("hide"),SingleWork.CoauthorTagApi.reset(this.options.tag_id,this.options.work_id),SingleWork.ExternalCoauthorTagModal.open(this.options.tag_id,this.options.work_id)},o}(Backbone.View)}.call(this),function(){var t,e={}.hasOwnProperty,r=function(t,r){function o(){this.constructor=t}for(var n in r)e.call(r,n)&&(t[n]=r[n]);return o.prototype=r.prototype,t.prototype=new o,t.__super__=r.prototype,t};SingleWork.CoauthorTagSuggestionsModal=function(e){function o(){return t=o.__super__.constructor.apply(this,arguments)}return r(o,e),o.prototype.template="single_work/templates/coauthor_tag_suggestion_modal",o.prototype.initialize=function(){return this.render(),this.show()},o.prototype.render=function(){return this.$el.html(JST[this.template]()),this._postRender(),this},o.prototype._postRender=function(){return this.ui={$modal:this.$(".coauthor-tag-suggestions-modal"),$currentState:this.$(".current-state")}},o.prototype.show=function(){return this.ui.$modal.modal("show")},o.prototype.alertSuccess=function(){return this.ui.$currentState.text("Successfully accepted your co-author suggestions!")},o.prototype.alertError=function(){var t;return t="Oops! We encountered an error while trying to accept your co-author suggestions.",this.ui.$currentState.text(t)},o.prototype.acceptSuggestion=function(){var t=this;return $a.is_logged_in()?$.ajax({type:"POST",dataType:"json",beforeSend:$a.add_csrf_header,contentType:"application/json",url:$r.accept_bundle_api_v0_user_coauthor_tag_suggestions_path({subdomain_param:"api",user_id:$current_user.id,bundle_id:this.options.bundleId}),success:function(){return t.alertSuccess()},error:function(){return t.alertError()}}):void 0},o}(Backbone.View)}.call(this),function(){var t,e={}.hasOwnProperty,r=function(t,r){function o(){this.constructor=t}for(var n in r)e.call(r,n)&&(t[n]=r[n]);return o.prototype=r.prototype,t.prototype=new o,t.__super__=r.prototype,t};SingleWork.CoauthorTagToolbar=function(e){function o(){return t=o.__super__.constructor.apply(this,arguments)}return r(o,e),o.prototype.id="coauthor-tag-request-toolbar",o.prototype.className="coauthor-tag-request-toolbar alert alert-warning clearfix",o.prototype.template="single_work/templates/coauthor_request_toolbar",o.prototype.events={"click .ignore-coauthor-tag-request":"ignoreCoauthorRequest","click .accept-coauthor-tag-request":"acceptCoauthorRequest"},o.prototype.render=function(){return this.$el.html(JST[this.template]()),this},o.prototype.close=function(){return $(".work-body-wrapper").removeClass("coauthor-toolbar-present"),this.remove()},o.prototype.alertSuccess=function(){return this.$el.removeClass("alert-warning alert-danger"),this.$el.addClass("alert-success text-center"),this.$(".coauthor-tag-request-prompt").text("You have successfully been added as a co-author!"),this.hideActions()},o.prototype.alertError=function(){return this.$el.removeClass("alert-warning"),this.$el.addClass("alert-danger"),this.$(".coauthor-tag-request-prompt").text("Oops! We encountered an error and failed to process your request.")},o.prototype.hideActions=function(){return this.$(".coauthor-tag-request-actions").hide()},o.prototype.acceptCoauthorRequest=function(){},o.prototype.ignoreCoauthorRequest=function(){},o}(Backbone.View)}.call(this),function(){SingleWork.CsvView=function(){function t(t){this.container=t.container,this.identifier=t.identifier,this.attachment_id=t.attachment_id,this.$container=$(this.container),this.content=null}return t.prototype.show=function(){var t,e=this;return this.$container.find(".info").hide(),this.$container.find(".csv_preview_loader").show(),null!==this.content?this.$container.html(this.content):(t=$r.attachment_csv_preview_path({attachment_id:this.attachment_id}),$.ajax({url:t,dataType:"json",success:function(t){return e.content=t.content,e.$container.html(e.content)},error:function(){return e.$container.find(".csv_preview_loader").hide(),e.$container.find(".info").show()}}))},t.prototype.expand=function(){return this.$container.addClass("full_width")},t.prototype.unexpand=function(){return this.$container.removeClass("full_width")},t}()}.call(this),function(){var t,e={}.hasOwnProperty,r=function(t,r){function o(){this.constructor=t}for(var n in r)e.call(r,n)&&(t[n]=r[n]);return o.prototype=r.prototype,t.prototype=new o,t.__super__=r.prototype,t};SingleWork.ExternalCoauthorTagModal=function(e){function o(){return t=o.__super__.constructor.apply(this,arguments)}return r(o,e),o.open=function(t,e,r){var o,n;return o=new SingleWork.ExternalCoauthorTagModal({el:".js-coauthor-invite-modal",tag_id:t,work_id:e,coauthor:r}),o.render().show(),n=new SingleWork.ExternalCoauthorTagToolbar({tag_id:t,work_id:e}),$(".work-body-wrapper").prepend(n.render().el)},o.prototype.events={"click .btn-success":"acceptCoauthorRequest"},o.prototype.initialize=function(){return this.notify("external_coauthor_invite_modal_render"),o.__super__.initialize.apply(this,arguments),this.coauthor=this.options.coauthor},o.prototype.show=function(){return this.$el.modal("show"),this},o.prototype.render=function(){return this.$el.modal({show:!1}),this.postRender(),this},o.prototype.postRender=function(){return this.ui={$acceptButtonText:this.$(".js-coauthor-invite-accept-text"),$acceptButtonSpinner:this.$(".js-coauthor-invite-accept-spinner")}},o.prototype.showSignupModal=function(){return this.$el.modal("hide"),$(".coauthor-verify-modal").modal("show")},o.prototype.acceptCoauthorRequest=function(){var t;return this.notify("external_coauthor_invite_accept"),(null!=(t=this.coauthor)?t.eligibleForAutoRegister():void 0)?this.autoRegisterUser():this.showSignupModal()},o.prototype.autoRegisterUser=function(){var t=this;return this.showAcceptSpinner(),this.coauthor.autoRegister().fail(function(){return t.hideAcceptSpinner(),t.showSignupModal()})},o.prototype.hideAcceptSpinner=function(){return this.ui.$acceptButtonText.removeClass("hidden"),this.ui.$acceptButtonSpinner.addClass("hidden")},o.prototype.showAcceptSpinner=function(){return this.ui.$acceptButtonText.addClass("hidden"),this.ui.$acceptButtonSpinner.removeClass("hidden")},o.prototype.alertSuccess=function(){return this.$el.removeClass("alert-warning alert-danger"),this.$el.addClass("alert-success text-center"),this.$(".coauthor-tag-request-prompt").text("You have successfully been added as a co-author!"),this.hideActions()},o.prototype.alertError=function(){return this.$el.removeClass("alert-warning"),this.$el.addClass("alert-danger"),this.$(".coauthor-tag-request-prompt").text("Oops! We encountered an error and failed to process your request.")},o.prototype.notify=function(t){var e;return e=new c.Server.Notification("coauthor_flow"),e.notify({event:t,work_id:this.options.work_id,tag_id:this.options.tag_id})},o}(Backbone.View)}.call(this),function(){var t,e={}.hasOwnProperty,r=function(t,r){function o(){this.constructor=t}for(var n in r)e.call(r,n)&&(t[n]=r[n]);return o.prototype=r.prototype,t.prototype=new o,t.__super__=r.prototype,t};SingleWork.ExternalCoauthorTagToolbar=function(e){function o(){return t=o.__super__.constructor.apply(this,arguments)}return r(o,e),o.prototype.acceptCoauthorRequest=function(){var t;return t=new c.Server.Notification("coauthor_flow"),t.notify({event:"external_coauthor_invite_accept",work_id:this.options.work_id,tag_id:this.options.tag_id}),this.showSignupModal()},o.prototype.ignoreCoauthorRequest=function(){return SingleWork.CoauthorTagApi.ignore(this.options.tag_id,this.options.work_id),this.close()},o.prototype.showSignupModal=function(){return $(".coauthor-verify-modal").modal("show")},o.prototype.render=function(){var t;return UserSource.remember("coauthor_invite"),t=new c.Server.Notification("coauthor_flow"),t.notify({event:"external_coauthor_invite_toolbar_render",work_id:this.options.work_id,tag_id:this.options.tag_id}),o.__super__.render.apply(this,arguments)},o}(SingleWork.CoauthorTagToolbar)}.call(this),function(){SingleWork.IFrameView=function(){function t(t){this.container=t.container,this.identifier=t.identifier,this.$container=$(this.container)}return t.prototype.expand=function(){return this.$container.addClass("full_width")},t.prototype.unexpand=function(){return this.$container.removeClass("full_width")},t}()}.call(this),function(){var t,e={}.hasOwnProperty,r=function(t,r){function o(){this.constructor=t}for(var n in r)e.call(r,n)&&(t[n]=r[n]);return o.prototype=r.prototype,t.prototype=new o,t.__super__=r.prototype,t};SingleWork.InternalCoauthorTagToolbar=function(e){function o(){return t=o.__super__.constructor.apply(this,arguments)}return r(o,e),o.prototype.autoAccept=function(){return this.acceptCoauthorRequest()},o.prototype.acceptCoauthorRequest=function(){var t=this;return $a.is_logged_in()?SingleWork.CoauthorTagApi.accept(this.options.tag_id,this.options.work_id).done(function(){return t.alertSuccess()}).fail(function(){return t.alertError()}):$("#nav_log_in").click()},o.prototype.ignoreCoauthorRequest=function(){var t=this;return $a.is_logged_in()?SingleWork.CoauthorTagApi.ignore(this.options.tag_id,this.options.work_id).done(function(){return t.close()}).fail(function(){return t.alertError()}):$("#nav_log_in").click()},o}(SingleWork.CoauthorTagToolbar)}.call(this),function(){var t={}.hasOwnProperty,e=function(e,r){function o(){this.constructor=e}for(var n in r)t.call(r,n)&&(e[n]=r[n]);return o.prototype=r.prototype,e.prototype=new o,e.__super__=r.prototype,e};SingleWork.RelatedWorks=function(t){function r(){r.__super__.constructor.apply(this,arguments),this.set("works","")}return e(r,t),r.prototype.get_related_works=function(t){var e=this;return $.ajax({url:this._url(t),dataType:"jsonp",success:function(t){return e.set("works",t)}})},r.prototype._url=function(t){return $r.other_works_by_author_api_v0_work_related_works_url({work_id:t.workId,num_works:3})},r}(Backbone.Model)}.call(this),function(){var t,e={}.hasOwnProperty,r=function(t,r){function o(){this.constructor=t}for(var n in r)e.call(r,n)&&(t[n]=r[n]);return o.prototype=r.prototype,t.prototype=new o,t.__super__=r.prototype,t};SingleWork.PendingExternalCoauthor=function(e){function o(){return t=o.__super__.constructor.apply(this,arguments)}return r(o,e),o.prototype.initialize=function(){return UserSource.remember("coauthor_invite"),o.__super__.initialize.apply(this,arguments)},o.prototype.eligibleForAutoRegister=function(){return this.get("allow_one_click_register")&&this.get("first_name")&&this.get("last_name")&&this.get("email")&&this.get("token")},o.prototype.autoRegister=function(){var t;return t=new $.Deferred,$.ajax({type:"POST",url:"/registrations",data:{user:{first_name:this.get("first_name"),last_name:this.get("last_name"),email:this.get("email")},no_password:!0,coauthor_token:this.get("token"),coauthor_work:this.get("work_id"),user_source:"coauthor_invite"},dataType:"json",xhrFields:{withCredentials:!0}}).done(function(e){var r,o,n;return n=e[0],r=e[1],o=e[2],n?(t.resolve(),document.location.href="/StartRegPath"):t.reject()}).fail(function(){return t.reject()}),t},o}(Backbone.Model)}.call(this),function(){SingleWork.PreviewController=function(){function t(){this.views={},this.current_identifier=null}return t.prototype.show=function(t){return this.current_identifier&&this._hide_view(this.current_identifier),this.current_identifier=t,this._show_view(t)},t.prototype.register_view=function(t,e){if(null!=this.views[t])throw"Can't register multiple views for the same identifier!";return this.views[t]=e,this.current_identifier===t?this._show_view(t):void 0},t.prototype.expand=function(){var t;return null!=(t=this.views[this.current_identifier])?"function"==typeof t.expand?t.expand():void 0:void 0},t.prototype.unexpand=function(){var t;return null!=(t=this.views[this.current_identifier])?"function"==typeof t.unexpand?t.unexpand():void 0:void 0},t.prototype._show_view=function(t){var e;return this._view_container(t).show(),null!=(e=this.views[t])?"function"==typeof e.show?e.show():void 0:void 0},t.prototype._hide_view=function(t){var e;return null!=(e=this.views[t])&&"function"==typeof e.tear_down&&e.tear_down(),this._view_container(t).hide()},t.prototype._view_container=function(t){return $(".attachment_preview[data-attachment="+t+"]")},t}(),SingleWork.preview_controller=new SingleWork.PreviewController}.call(this),function(){var t,e={}.hasOwnProperty,r=function(t,r){function o(){this.constructor=t}for(var n in r)e.call(r,n)&&(t[n]=r[n]);return o.prototype=r.prototype,t.prototype=new o,t.__super__=r.prototype,t};SingleWork.RelatedWorksView=function(e){function o(){return t=o.__super__.constructor.apply(this,arguments)}return r(o,e),o.prototype.el="#related-research-sidebar",o.prototype.template="single_work/templates/related_works",o.prototype.initialize=function(){return this.model=new SingleWork.RelatedWorks,this.model.get_related_works(this.options),this.model.on("change",this.render,this)},o.prototype.render=function(){var t;return t=this.model.get("works"),this.$(".related-research-loading").remove(),this.$el.css("visibility","hide").append(JST[this.template]({works:t.works})),this._truncateTitles(),this.$el.css("visibility",""),this},o.prototype._truncateTitles=function(){return this.$(".related-research-title").each(function(){return $(this).trunk8({lines:2,tooltip:!1})})},o}(Backbone.View)}.call(this),function(){SingleWork.RepoView=function(){function t(t){var e=this;this._set_repo_widths(),_.each(this.constructor_options,function(r){return e[r]=t[r]}),this.$container=$(this.container)}return t.prototype.constructor_options=["container","user","repo","identifier"],t.prototype.defaults={expanded:"966px",unexpanded:"760px"},t.prototype.show=function(){var t=this;return $a.ie8()?this.unsupported_browser():req("repo",function(){return t.$container.append("<div class='inner_repo'></div>"),t.$repo=t.$container.find(".inner_repo"),t.$repo.width(t.defaults.unexpanded),t.$repo.repo({user:t.user,name:t.repo}),t.$repo.on("not_found",function(){return t.not_found()}),t.$repo.on("api_limited",function(){return t.api_limited()})})},t.prototype.not_found=function(){var t;return null!=(t=this.$repo)&&t.find(".repo").hide(),this.$container.find(".not_found").show()},t.prototype.api_limited=function(){var t;return null!=(t=this.$repo)&&t.find(".repo").hide(),this.$container.find(".api_limited").show()},t.prototype.unsupported_browser=function(){var t;return null!=(t=this.$repo)&&t.find(".repo").hide(),this.$container.find(".unsupported_browser").show()},t.prototype.expand=function(){return this.$repo.width(this.defaults.expanded)},t.prototype.unexpand=function(){return this.$repo.width(this.defaults.unexpanded)},t.prototype.tear_down=function(){return this.$repo.remove()},t.prototype._set_repo_widths=function(){var t;return t=$.trim($("#site").attr("class").replace("fixed","")),"w_1160"===t?(this.defaults.expanded="1060px",this.defaults.unexpanded="880px"):"w_1340"===t?(this.defaults.expanded="1246px",this.defaults.unexpanded="1050px"):"w_1780"===t?(this.defaults.expanded="1680px",this.defaults.unexpanded="1500px"):void 0},t}()}.call(this),function(){this.JST||(this.JST={}),this.JST["single_work/templates/coauthor_request_toolbar"]=function(){var t=[];return t.push('<span class="coauthor-tag-request-prompt">You have been tagged as a co-author!</span><div class="coauthor-tag-request-actions pull-right"><span class="ignore-coauthor-tag-request clickable">IGNORE</span><button class="btn btn-lg btn-success accept-coauthor-tag-request"><span>ACCEPT</span></button></div>'),t.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["single_work/templates/coauthor_tag_suggestion_modal"]=function(){var t=[];return t.push('<div tabindex="-1" role="dialoge" aria-hidden="true" class="coauthor-tag-suggestions-modal modal fade"><div class="modal-dialog modal-sm"><div class="modal-content"><div class="modal-header text-center"><button aria-label="Close" data-dismiss="modal" class="close"><span aria-hidden="true">&times;</span></button><h4 class="modal-title">Co-author Suggestions</h4></div><div class="modal-body text-center"><h5 class="current-state">Accepting your co-author suggestions...</h5></div></div></div></div>'),t.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["single_work/templates/related_works"]=function(t){var e,r=[],o=t||{};return function(t,o){0===o.length?r.push('<p class="text-center"><em class="text-gray">No other research found</em></p>'):(r.push("<div>"),function(){var t=o;if("number"==typeof t.length)for(var n=0,i=t.length;i>n;n++){var a=t[n];r.push("<a"+jade.attr("href",a.url,!0,!1)+jade.attr("title",a.title,!0,!1)+' class="related-research-item js-related-research-item"><div class="media"><div class="related-research-image pull-left valign-wrapper"><img width="60px" height="77px"'+jade.attr("src",a.scribd_thumbnail_url||"/images/scribd/document_thumbnail_fallback.svg",!0,!1)+' class="panel rectangle valign-item related-research-attachment-image"/></div><div class="media-body related-research-item-body valign-wrapper"><div class="related-research-title-wrapper valign-item"><div class="related-research-title text-gray-dark text-serif">'+jade.escape(null==(e=a.title)?"":e)+"</div></div></div></div></a>")}else{var i=0;for(var n in t){i++;var a=t[n];r.push("<a"+jade.attr("href",a.url,!0,!1)+jade.attr("title",a.title,!0,!1)+' class="related-research-item js-related-research-item"><div class="media"><div class="related-research-image pull-left valign-wrapper"><img width="60px" height="77px"'+jade.attr("src",a.scribd_thumbnail_url||"/images/scribd/document_thumbnail_fallback.svg",!0,!1)+' class="panel rectangle valign-item related-research-attachment-image"/></div><div class="media-body related-research-item-body valign-wrapper"><div class="related-research-title-wrapper valign-item"><div class="related-research-title text-gray-dark text-serif">'+jade.escape(null==(e=a.title)?"":e)+"</div></div></div></div></a>")}}}.call(this),r.push("</div>"))}.call(this,"undefined"in o?o.undefined:void 0,"works"in o?o.works:"undefined"!=typeof works?works:void 0),r.join("")}}.call(this),function(){SingleWork.PopoverController=function(){function t(t,e){this.pageload_at=t,this.wait_millis=e,this.notifier=new c.Server.Notification("sutd")}return t.prototype.timed_popover=function(){var t,e,r=this;return this.should_show_popover()?(t=function(){return r.check_cookies()?(r.show_popover(),r.notifier.notify({event_type:"popover_show",auvid:$auvid})):void 0},e=(new Date).getTime()-this.pageload_at.getTime(),e>=this.wait_millis?t():0>=e?setTimeout(t,this.wait_millis):setTimeout(t,this.wait_millis-e)):void 0},t.prototype.should_show_popover=function(){return $a.ie6()||$a.ie7()||$a.is_mobile()?!1:document.referrer?!!document.referrer.match(/https?:\/\/([^.]+\.)?(google|bing|yahoo|twitter|facebook|linkedin)\./):!0},t.prototype.check_cookies=function(){var t;return t=jQuery.cookie("ab_test_june_2012_5"),null!=t&&(t="true"===t),!t},t.prototype.show_popover=function(){return $("#overlay_background").css({opacity:".6"}).fadeIn(),SessionModal.DownloadWork.render()},t}()}.call(this);